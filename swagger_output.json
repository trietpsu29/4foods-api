{
  "swagger": "2.0",
  "info": {
    "title": "4Foods API",
    "description": "API documentation for 4Foods android app",
    "version": "1.0.0"
  },
  "host": "api.4foods.app",
  "basePath": "/",
  "schemes": ["https"],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Auth"],
        "description": "Register a new user",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "name": { "example": "Triet Do" },
                "email": { "example": "triet@example.com" },
                "password": { "example": "123456" },
                "role": { "example": "user" }
              }
            }
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "description": "Login with email and password",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": { "example": "triet@example.com" },
                "password": { "example": "123456" }
              }
            }
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "401": { "description": "Unauthorized" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/auth/forgot-password": {
      "post": {
        "tags": ["Auth"],
        "description": "Send a reset password email",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": { "email": { "example": "triet@example.com" } }
            }
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" }
        }
      }
    },
    "/auth/reset-password": {
      "post": {
        "tags": ["Auth"],
        "description": "Reset password with code",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "email": { "example": "triet@example.com" },
                "code": { "example": "123456" },
                "newPassword": { "example": "newpass123" }
              }
            }
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" }
        }
      }
    },
    "/users/me": {
      "get": {
        "tags": ["Users"],
        "description": "Get current logged-in user info",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Not Found" }
        }
      },
      "put": {
        "tags": ["Users"],
        "description": "Update current user info",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "name": { "example": "Triet Do" },
                "email": { "example": "triet@example.com" },
                "phone": { "example": "0123456789" },
                "avatar": {
                  "example": "https://api.4foods.app/uploads/triet-avatar.jpg"
                }
              }
            }
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Not Found" }
        }
      }
    },
    "/users/change-password": {
      "put": {
        "tags": ["Users"],
        "description": "Change user password",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          },
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "oldPassword": { "example": "123456" },
                "newPassword": { "example": "newpass123" }
              }
            }
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" },
          "401": { "description": "Unauthorized" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/users/": {
      "get": {
        "tags": ["Users"],
        "description": "Get all users (admin only)",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "401": { "description": "Unauthorized" },
          "403": { "description": "Forbidden" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "tags": ["Users"],
        "description": "Get user by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          },
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "401": { "description": "Unauthorized" },
          "403": { "description": "Forbidden" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      },
      "put": {
        "tags": ["Users"],
        "description": "Update user by ID (admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          },
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" },
          "401": { "description": "Unauthorized" },
          "403": { "description": "Forbidden" },
          "404": { "description": "Not Found" }
        }
      },
      "delete": {
        "tags": ["Users"],
        "description": "Delete user by ID (admin only)",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          },
          {
            "name": "Authorization",
            "in": "header",
            "type": "string",
            "example": "Bearer <token>"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "401": { "description": "Unauthorized" },
          "403": { "description": "Forbidden" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/products/": {
      "post": {
        "tags": ["Products"],
        "description": "Create product",
        "responses": {
          "201": { "description": "Created" },
          "400": { "description": "Bad Request" }
        }
      },
      "get": {
        "tags": ["Products"],
        "description": "Get all products",
        "responses": {
          "200": { "description": "OK" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/products/{id}": {
      "get": {
        "tags": ["Products"],
        "description": "Get product by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      },
      "put": {
        "tags": ["Products"],
        "description": "Update product by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" },
          "404": { "description": "Not Found" }
        }
      },
      "delete": {
        "tags": ["Products"],
        "description": "Delete product by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/orders/": {
      "post": {
        "tags": ["Orders"],
        "description": "Create new order",
        "responses": {
          "201": { "description": "Created" },
          "400": { "description": "Bad Request" }
        }
      },
      "get": {
        "tags": ["Orders"],
        "description": "Get all orders",
        "responses": {
          "200": { "description": "OK" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/orders/{id}": {
      "get": {
        "tags": ["Orders"],
        "description": "Get order by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      },
      "put": {
        "tags": ["Orders"],
        "description": "Update order by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" },
          "404": { "description": "Not Found" }
        }
      },
      "delete": {
        "tags": ["Orders"],
        "description": "Delete order by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
"/categories/": {
  "post": {
    "tags": ["Categories"],
    "description": "Create category (Admin only)",
    "parameters": [
      {
        "name": "Authorization",
        "in": "header",
        "type": "string",
        "required": true,
        "example": "Bearer <token>"
      },
      {
        "name": "body",
        "in": "body",
        "required": true,
        "schema": {
          "type": "object",
          "properties": {
            "name": { "type": "string", "example": "Beverages" },
            "description": { "type": "string", "example": "All drink items" }
          },
          "required": ["name"]
        }
      }
    ],
    "responses": {
      "201": { "description": "Created" },
      "400": { "description": "Bad Request" }
    }
  },
  "get": {
    "tags": ["Categories"],
    "description": "Get all categories (User & Admin)",
    "responses": {
      "200": { "description": "OK" },
      "500": { "description": "Internal Server Error" }
    }
  }
},
"/categories/{id}": {
  "get": {
    "tags": ["Categories"],
    "description": "Get category by ID (User & Admin)",
    "parameters": [
      { "name": "id", "in": "path", "required": true, "type": "string" }
    ],
    "responses": {
      "200": { "description": "OK" },
      "404": { "description": "Not Found" },
      "500": { "description": "Internal Server Error" }
    }
  },
  "put": {
    "tags": ["Categories"],
    "description": "Update category by ID (Admin only)",
    "parameters": [
      { "name": "id", "in": "path", "required": true, "type": "string" },
      {
        "name": "Authorization",
        "in": "header",
        "type": "string",
        "required": true,
        "example": "Bearer <token>"
      },
      {
        "name": "body",
        "in": "body",
        "required": true,
        "schema": {
          "type": "object",
          "properties": {
            "name": { "type": "string", "example": "Snacks" },
            "description": { "type": "string", "example": "Updated description" }
          }
        }
      }
    ],
    "responses": {
      "200": { "description": "OK" },
      "400": { "description": "Bad Request" },
      "404": { "description": "Not Found" }
    }
  },
  "delete": {
    "tags": ["Categories"],
    "description": "Delete category by ID (Admin only)",
    "parameters": [
      { "name": "id", "in": "path", "required": true, "type": "string" },
      {
        "name": "Authorization",
        "in": "header",
        "type": "string",
        "required": true,
        "example": "Bearer <token>"
      }
    ],
    "responses": {
      "200": { "description": "Deleted" },
      "404": { "description": "Not Found" }
    }
  }
},
    "/carts/": {
      "post": {
        "tags": ["Carts"],
        "description": "Create new cart",
        "responses": {
          "201": { "description": "Created" },
          "400": { "description": "Bad Request" }
        }
      },
      "get": {
        "tags": ["Carts"],
        "description": "Get all carts",
        "responses": {
          "200": { "description": "OK" },
          "500": { "description": "Internal Server Error" }
        }
      }
    },
    "/carts/{id}": {
      "get": {
        "tags": ["Carts"],
        "description": "Get cart by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      },
      "put": {
        "tags": ["Carts"],
        "description": "Update cart by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "400": { "description": "Bad Request" },
          "404": { "description": "Not Found" }
        }
      },
      "delete": {
        "tags": ["Carts"],
        "description": "Delete cart by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string",
            "example": "6708ffb23fa1234cde000111"
          }
        ],
        "responses": {
          "200": { "description": "OK" },
          "404": { "description": "Not Found" },
          "500": { "description": "Internal Server Error" }
        }
      }
    }
  }
}
